CREATE DATABASE szekreny_nyilvantarto
CHARACTER SET utf8
COLLATE utf8_hungarian_ci;

USE szekreny_nyilvantarto;

CREATE TABLE teams(
  id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  teamname varchar(100) NOT NULL UNIQUE
  );

CREATE TABLE lockerrooms(
  id int(11) NOT null AUTO_INCREMENT PRIMARY KEY,
  roomname char(1) NOT NULL UNIQUE
  );

CREATE TABLE employees (
  id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  number varchar(5) NOT NULL UNIQUE,
  empname varchar(100) NOT NULL,
  team_id int(11) NOT NULL
);

CREATE TABLE lockers(
  id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  state_id int(11) NOT NULL,
  employee_id int(11),
  lockerroom_id int(11) NOT NULL 
  );

CREATE TABLE states(
  id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  state varchar(10) NOT NULL
  ); 


ALTER TABLE employees
ADD CONSTRAINT FK_employees_teams_id FOREIGN KEY (team_id)
  REFERENCES szekreny_nyilvantarto.teams(id);

ALTER TABLE lockers
  ADD CONSTRAINT FK_state_id FOREIGN KEY (state_id)
REFERENCES states(id),
ADD CONSTRAINT FK_lockers_employees_id FOREIGN KEY (employee_id)
REFERENCES szekreny_nyilvantarto.employees(id),
ADD CONSTRAINT FK_lockerroom_id FOREIGN KEY (lockerroom_id)
REFERENCES lockerrooms(id);
 

INSERT INTO states(state)
  VALUES ('Foglalt'),
  ('Szabad'),
  ('Várakozó'),
  ('Sérült');

INSERT INTO teams(teamname)
    VALUES('Kikészítő team'),
    ('Hőkezelő team'),
    ('Öntvénytisztító team'),
    ('Kovács team'),
    ('Darabolóteam'),
    ('Egyengető team'),
    ('Karbantartó team');

INSERT INTO lockerrooms(roomname)
    VALUES('A'),
          ('B'),
          ('C');

INSERT INTO employees(number, empname, team_id)
    VALUES('09183', 'Kovács József', 1),
  ('09184', 'Német József', 1),
  ('09181', 'Német Antal', 1),
  ('09188', 'Kovács József', 1),
  ('09200', 'Német Károly', 1),
  ('09203', 'Fehér Vilmos', 1),
  ('09283', 'Tibold István', 1),
  ('09211', 'Kintli Zsolt', 1),
  ('09212', 'Kovács József', 1),
  ('09213', 'Széles Gábor', 1),
  ('09191', 'Takács Róbert', 1),
  ('09192', 'Varga József', 1),
  ('09193', 'Alasztics Gábor', 1),
  ('09194', 'Szántó Jenő', 1),
  ('09199', 'Csehi Tibor', 1),

  ('12378', 'Kovács István', 2),
  ('12379', 'Nyári Roland',2),
  ('12380', 'Király Attila',2),
  ('12381', 'Mesteri Róbert',2),
  ('12382', 'Papp Zoltán',2),
  ('12383', 'Orosz Lajos',2),
  ('12453', 'Kroer László',2),
  ('12454', 'Német Péter',2),
  ('33709', 'Szilágyi Gábor',2),
  ('33710', 'Iváncza Gábor',2),
  ('33711', 'Hatt Attila',2),
  ('33713', 'Varga Zsolt',2),
  ('33715', 'Antal Péter',2),
  ('33609', 'Rácz József',2),
  ('33809', 'Horváth Miklós',2),


  ('94238', 'Varga Sándor', 3),
  ('94239', 'Takács Ábel', 3),
  ('94240', 'Tóközi László', 3),
  ('94241', 'Szabó Zoltán', 3),
  ('94242', 'Kokas Sándor', 3),
  ('94243', 'Kiss Péter', 3),
  ('94235', 'Német Miklós', 3),
  ('91453', 'Varga Károly', 3),
  ('91455', 'Kiss Lajos', 3),
  ('94248', 'Balogh Barna', 3),
  ('91458', 'Bakonyi Ádám', 3),
  ('94258', 'Szabó Attila', 3),
  ('94255', 'Tergalecz István', 3),
  ('94256', 'Simon Norbert', 3),
  ('94265', 'Tamási Zoltán', 3),

  ('02289', 'Ferenczi Balázs',4),
  ('02290', 'Osváth Ádám',4),
  ('02291', 'Kovács Balázs',4),
  ('02292', 'Fekete Imre',4),
  ('02293', 'Szakály István',4),
  ('02294', 'Fajkusz József',4),
  ('02295', 'Faltusz Zoltán',4),
  ('02296', 'Nagy Róbert',4),
  ('02297', 'Horváth Lajos',4),
  ('02298', 'Sulyok Sándor',4),
  ('01298', 'Ferenczi Dávid',4),
  ('01299', 'Gősi Tamás',4),
  ('01300', 'Balogh Béla',4),
  ('01301', 'Dénes András',4),
  ('01302', 'Sztojka Mihály',4),


  ('50012', 'Wukitsevits Péter', 5),
  ('50013', 'Tibold Imre', 5),
  ('50014', 'Bedők Imre', 5),
  ('50015', 'Czank Máté', 5),
  ('51002', 'Hidasi János', 5),
  ('51003', 'Tóth Jenő', 5),
  ('51004', 'Haller István', 5),
  ('51005', 'Sulyok Dániel', 5),
  ('51006', 'Szántó Jenő', 5),
  ('51112', 'Varga Zsolt', 5),
  ('51122', 'Gesztesi Gábor', 5),
  ('56612', 'Papp Gábor', 5),
  ('56513', 'Antal Péter', 5),
  ('56414', 'Tóth Sándor', 5),
  ('57715', 'Velancsics Zoltán', 5),

  ('07402', 'Takács Tivadar', 6),
  ('07403', 'Takács József', 6),
  ('12389', 'Szegedi Tibor', 6),
  ('12390', 'Csapó Gyula', 6),
  ('12391', 'Velner László', 6),
  ('12392', 'Szokodics István', 6),
  ('12393', 'Tóth Ferenc Sándor', 6),
  ('12394', 'Sárközi János', 6),
  ('12395', 'Pősz Kevin', 6),
  ('12396', 'Hütner Richárd', 6),
  ('12397', 'Nagy Attila', 6),
  ('07414', 'Kiss Attila', 6),
  ('07435', 'Tarró Zoltán', 6),
  ('07506', 'Német Sándor', 6),
  ('07777', 'Zokob László', 6);


INSERT INTO lockers(state_id, employee_id, lockerroom_id)
  VALUES(1,1,1),
  (1,2,1),
  (1,3,1),
  (1,4,1),
  (2,null,1),
  (1,5,1),
  (1,6,1),
  (1,7,1),
  (1,8,1),
  (2,null,1),
  (2,null,1),
  (3,9,1),
  (1,10,1),
  (2,null,1),
  (4,null,1),
  (1,11,1),
  (1,12,1),
  (1,13,1),
  (1,14,1),
  (1,15,1),
  (2,null,1),
  (4,null,1),
  (3,16,1),
  (1,17,1),
  (4,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (1,18,1),
  (1,19,1),
  (1,20,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (1,21,1),
  (1,22,1),
  (1,23,1),
  (3,24,1),
  (2,null,1),
  (2,null,1),
  (1,25,1),
  (1,26,1),
  (1,27,1),
  (1,28,1),
  (1,29,1),
  (1,30,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (4,null,1),
  (4,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  
  (4,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (4,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (4,null,1),
  (2,null,1),
  (2,null,1),
  (2,null,1),
  (4,null,1),
  (2,null,1),
  (2,null,1),
(2,null,1),

  (1,31,2),
  (1,32,2),
  (4,null,2),
  (2,null,2),
  (2,null,2),
  (1,33,2),
  (1,34,2),
  (2,null,2),
  (1,35,2),
  (2,null,2),
  (3,36,2),
  (3,37,2),
  (1,38,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (1,39,2),
  (1,40,2),
  (1,41,2),
  (2,null,2),
  (2,null,2),
  (1,42,2),
  (1,43,2),
  (1,44,2),
  (2,null,2),
  (1,45,2),
  (1,46,2),
  (1,47,2),
  (2,null,2),
  (2,null,2),
  (3,48,2),
  (1,49,2),
  (2,null,2),
  (1,50,2),
  (1,51,2),
  (4,null,2),
  (1,52,2),
  (1,53,2),
  (1,54,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (1,55,2),
  (1,56,2),
  (3,57,2),
  (2,null,2),
  (2,null,2),
  (1,58,2),
  (1,59,2),
  (1,60,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (4,null,2),
  (2,null,2),
  (4,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (4,null,2),
  (2,null,2),
  (4,null,2),
  (4,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (4,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (4,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (2,null,2),
  (4,null,2),

  (1,61,3),
  (1,62,3),
  (3,63,3),
  (1,64,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (1,65,3),
  (1,66,3),
  (1,67,3),
  (3,68,3),
  (2,null,3),
  (4,null,3),
  (1,69,3),
  (1,70,3),
  (1,71,3),
  (2,null,3),
  (2,null,3),
  (4,null,3),
  (1,72,3),
  (1,73,3),
  (3,74,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (3,75,3),
  (2,null,3),
  (1,76,3),
  (2,null,3),
  (1,77,3),
  (1,78,3),
  (2,null,3),
  (1,79,3),
  (1,80,3),
  (2,null,3),
  (1,81,3),
  (1,82,3),
  (2,null,3),
  (1,83,3),
  (3,84,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (4,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (1,85,3),
  (1,86,3),
  (1,87,3),
  (2,null,3),
  (2,null,3),
  (4,null,3),
  (1,88,3),
  (1,89,3),
  (1,90,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (4,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (4,null,3),
  (4,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (4,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3),
  (2,null,3);

ALTER TABLE employees CONVERT TO CHARACTER SET utf8;
ALTER TABLE lockers CONVERT TO CHARACTER SET utf8;
ALTER TABLE states CONVERT TO CHARACTER SET utf8;
ALTER TABLE teams CONVERT TO CHARACTER SET utf8;
ALTER TABLE lockerrooms CONVERT TO CHARACTER SET utf8;